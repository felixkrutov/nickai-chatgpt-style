(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{2829:(e,s,t)=>{"use strict";t.d(s,{N:()=>l});let l=(0,t(6879).UU)("https://wsfchumuttchudmdzwqj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndzZmNodW11dHRjaHVkbWR6d3FqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1NDU1MzksImV4cCI6MjA2MDEyMTUzOX0.a5duFz3_7xWvbOGt85zI1l_3GcpDR0aQaI8J_sS4-2A")},7808:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(7876),a=t(4232),n=t(9099),r=t(2829),i=t(8761);function o(){let e=(0,n.useRouter)(),[s,t]=(0,a.useState)({provider:"openrouter",model:"google/gemini-flash-1.5",system_prompt:""}),[o,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{let{data:{user:s}}=await r.N.auth.getUser();if(!s||s.email!==i.v)return e.replace("/");let{data:l}=await r.N.from("settings").select("*").single();l&&t(l)})()},[e]);let c=async()=>{d("saving");let{error:e}=await r.N.from("settings").upsert({id:1,...s});if(e)return void d("error");d("saved"),setTimeout(()=>d(null),2500)},u=e=>t({...s,[e.target.name]:e.target.value});return(0,l.jsx)("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-lg bg-gray-800 p-6 rounded space-y-4",children:[(0,l.jsx)("button",{onClick:()=>e.push("/"),className:"text-sm text-indigo-400 hover:underline",children:"←\xa0К\xa0чату"}),(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Настройки\xa0LLM"}),(0,l.jsxs)("label",{className:"block text-sm",children:["Провайдер",(0,l.jsxs)("select",{name:"provider",value:s.provider,onChange:u,className:"mt-1 w-full bg-gray-700 p-2 rounded",children:[(0,l.jsx)("option",{value:"openrouter",children:"OpenRouter"}),(0,l.jsx)("option",{value:"groq",children:"Groq"}),(0,l.jsx)("option",{value:"gemini",children:"Google\xa0Gemini\xa0(BYO\xa0Key)"})]})]}),(0,l.jsxs)("label",{className:"block text-sm",children:["ID\xa0модели",(0,l.jsx)("input",{name:"model",value:s.model,onChange:u,placeholder:"google/gemini-flash-1.5",className:"mt-1 w-full bg-gray-700 p-2 rounded"})]}),(0,l.jsxs)("label",{className:"block text-sm",children:["Системное сообщение",(0,l.jsx)("textarea",{name:"system_prompt",value:s.system_prompt,onChange:u,rows:4,className:"mt-1 w-full bg-gray-700 p-2 rounded"})]}),(0,l.jsx)("button",{onClick:c,disabled:"saving"===o,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 rounded disabled:opacity-50",children:"saving"===o?"Сохраняю…":"Сохранить"}),"saved"===o&&(0,l.jsx)("p",{className:"text-green-400 text-sm text-center",children:"✔\xa0Сохранено"}),"error"===o&&(0,l.jsx)("p",{className:"text-red-400 text-sm text-center",children:"Ошибка сохранения"})]})})}},8210:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(7808)}])},8761:(e,s,t)=>{"use strict";t.d(s,{v:()=>l});let l="googoldecaplex@bk.ru"}},e=>{var s=s=>e(e.s=s);e.O(0,[721,636,593,792],()=>s(8210)),_N_E=e.O()}]);